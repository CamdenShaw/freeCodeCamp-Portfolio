"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$(document).ready(function(){function n(t){var e=Math.random(0,1),n=Math.round(e),o={display:"initial"},a=_objectSpread({},o,{opacity:0,height:0,margin:0,padding:0,border:0}),s=_objectSpread({},o,{opacity:1});return t.each(function(t,e){t===n?(Object.assign(e.style,a),e.setAttribute("tabindex","-1"),e.setAttribute("autocomplete","off")):(Object.assign(e.style,s),e.setAttribute("autocomplete","on"))}),n+1}function t(){setTimeout(function(){e||(d={},function(){a.forEach(function(t){var e=n($("form.message-camden [name='".concat(t,"']")));d[t]={a:e-1,b:2-e}});var t=n($('form.message-camden [type="submit"]'));d.button={a:t-1,b:2-t}}(),e=!0)},500)}var i,c,l,u,m,f,g,p,b,y,v,d,h=!1,e=!1,o=parseFloat($(".submit-message").css("marginBottom")),a=["from","email","phone#","content"];$(window).on("load",function(){t()});function w(){1===$(".status")[0].classList.length?parseFloat($(".submit-message").css("marginBottom"))===o-parseFloat($(".status").css("fontSize"))&&$(".submit-message").css("marginBottom",30):$(".submit-message").css("marginBottom",o-parseFloat($(".status").css("fontSize")))}function O(t){$(".status").toggleClass("".concat(t))}$("form.message-camden").on("submit",function(t){if(t.preventDefault(),this===$("[type='submit']")[d.button.a]&&(console.log("button logic is wrong"),h=!0),h||"object"!==_typeof(d)||null===d?(console.log("this logic is wrong"),h=!0):(u=$("[name='email']"),c=$("[name='from']"),b=$("[name='content']"),f=$("[name='phone#']"),console.log(u),console.log(d),console.log(d.email),console.log($(u[d.email.a]).val()),""!==$(u[d.email.a]).val()&&console.log("email logic is wrong"),""!==$(c[d.from.a]).val()&&console.log("from logic is wrong"),""!==$(b[d.content.a]).val()&&console.log("content logic is wrong"),""!==$(f[d["phone#"].a]).val()&&console.log("phone logic is wrong"),""!==$(u[d.email.a]).val()||""!==$(c[d.from.a]).val()||""!==$(b[d.content.a]).val()||""!==$(f[d["phone#"].a]).val()?h=!0:(l=$(u[d.email.b]).val(),i=$(c[d.email.b]).val(),g="Message From ".concat(i," Via camdenshaw.ca"),p=$(b[d.content.b]).val(),m=$(f[d["phone#"].b]).val(),y="".concat(p,"\n\n").concat(i,"\n").concat(m,"\n").concat(l))),void 0!==h&&""!==h&&h)return $(".status").empty().html("Go Away Bots!"),O("warning"),void setTimeout(function(){window.location="https://google.com"},100);if(void 0===p||""===p)return $(".status").empty().html("This form is here to initiate dialogue, so please write a message."),void O("warning");$(".status").hasClass("warning")&&O("warning"),$(".status").empty().html("Sending Email"),O("sending"),w();var n=setTimeout(function(){clearInterval(o),clearInterval(a),$(".status").html($(".status").html().replace(/\./g,"")),O("sending"),O("warning"),"Sending Email"===$(".status").text()&&$(".status").empty().html("No Response on Message Status"),w()},4e4),o=setInterval(function(){return $(".status").append(".")},200),a=setInterval(function(){return $(".status").html($(".status").html().replace(/\./g,""))},2e3);$.get("https://camden-portfolio.herokuapp.com/send",{from:i,to:"camden.shaw@gmail.com",subject:g,messageContent:y},function(t,e){clearInterval(o),clearInterval(a),clearTimeout(n),O("sending"),O(t),"sent"===t&&$(".status").empty().html("Email has been sent."),"error"===t&&$(".status").empty().html('An error has occurred, please try again later. <i class="mail fa fa-info-circle></i></p><p class="mail-error">'.concat(e)),v=setTimeout(function(){return O(t)},5e4),w()});function e(t){clearInterval(o),clearInterval(a),O(t),w(),clearInterval(s)}var s=setInterval(function(){"sent"===$(".status")[0].classList[1]&&(clearTimeout(r),clearTimeout(v),setTimeout(function(){return e($(".status")[0].classList[1])},5e3),clearInterval(s))},100),r=setTimeout(function(){e($(".status")[0].classList[1])},5e4)})});