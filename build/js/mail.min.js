"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$(document).ready(function(){function t(){setTimeout(function(){var t;e||(b={},o.forEach(function(t){var e=a($("form.message-camden [name='".concat(t,"']")));b[t]={a:e-1+1,b:2-e+1}}),t=a($('form.message-camden [type="submit"]')),b.button={a:t-1+1,b:2-t+1},e=!0)},500)}function i(){1===$(".status")[0].classList.length?parseFloat($(".submit-message").css("marginBottom"))===n-parseFloat($(".status").css("fontSize"))&&$(".submit-message").css("marginBottom",30):$(".submit-message").css("marginBottom",n-parseFloat($(".status").css("fontSize")))}function c(t){$(".status").toggleClass("".concat(t))}var l,u,m,d,p,f,h,v,b,g,y=!1,e=!1,n=parseFloat($(".submit-message").css("marginBottom")),o=["from","email","phone#","content"],a=function(t){var e=Math.random(0,1),n=Math.round(e+1),e={display:"initial"},o=_objectSpread(_objectSpread({},e),{},{opacity:0,height:0,margin:0,padding:0,border:0}),a=_objectSpread(_objectSpread({},e),{},{opacity:1});return t.each(function(t,e){console.log(t,n),t!==n?(Object.assign(e.style,o),e.setAttribute("tabindex","-1"),e.setAttribute("autocomplete","new-password")):(Object.assign(e.style,a),e.setAttribute("autocomplete","on"))}),n};$(window).on("load",function(){t()});$("form.message-camden").on("submit",function(t){if(t.preventDefault(),this===(g=$("[type='submit']"))[b.button.a]&&(console.error("button logic is wrong",g),y=!0),y||"object"!==_typeof(b)||null===b?(console.error("this logic is wrong",this),y=!0):(g=$("[name='email']"),u=$("[name='from']"),f=$("[name='content']"),m=$("[name='phone#']"),""!==$(g[b.email.b]).val()&&console.error("email logic is wrong",g),""!==$(u[b.from.b]).val()&&console.error("from logic is wrong",u),""!==$(f[b.content.b]).val()&&console.error("content logic is wrong",f),""!==$(m[b["phone#"].b]).val()&&console.error("phone logic is wrong",m),""!==$(g[b.email.b]).val()||""!==$(u[b.from.b]).val()||""!==$(f[b.content.b]).val()||""!==$(m[b["phone#"].b]).val()?y=!0:(g=$(g[b.email.a]).val(),l=$(u[b.email.a]).val(),d="Message From ".concat(l," Via camdenshaw.ca"),p=$(f[b.content.a]).val(),u=$(m[b["phone#"].a]).val(),h="".concat(p,"\n\n").concat(l,"\n").concat(u,"\n").concat(g))),void 0!==y&&""!==y&&y)return $(".status").empty().html("Go Away Bots!"),c("warning"),void setTimeout(function(){window.location="https://google.com"},100);if(void 0===p||""===p)return $(".status").empty().html("This form is here to initiate dialogue, so please write a message."),void c("warning");$(".status").hasClass("warning")&&c("warning"),$(".status").empty().html("Sending Email"),c("sending"),i();function e(t){clearInterval(o),clearInterval(a),c(t),i(),clearInterval(r)}var n=setTimeout(function(){clearInterval(o),clearInterval(a),$(".status").html($(".status").html().replace(/\./g,"")),c("sending"),c("warning"),"Sending Email"===$(".status").text()&&$(".status").empty().html("No Response on Message Status"),i()},4e4),o=setInterval(function(){return $(".status").append(".")},200),a=setInterval(function(){return $(".status").html($(".status").html().replace(/\./g,""))},2e3),r=($.get("https://ad4un4rzdjmqfjisaxzihxkarq0wwtbk.lambda-url.ca-central-1.on.aws/",{from:l,subject:d,messageContent:h},function(t,e){clearInterval(o),clearInterval(a),clearTimeout(n),c("sending"),c(t),"sent"===t&&$(".status").empty().html("Email has been sent."),"error"===t&&$(".status").empty().html('An error has occurred, please try again later. <i class="mail fa fa-info-circle></i></p><p class="mail-error">'.concat(e)),v=setTimeout(function(){return c(t)},5e4),i()}),setInterval(function(){"sent"===$(".status")[0].classList[1]&&(clearTimeout(s),clearTimeout(v),setTimeout(function(){return e($(".status")[0].classList[1])},5e3),clearInterval(r))},100)),s=setTimeout(function(){e($(".status")[0].classList[1])},5e4)})});